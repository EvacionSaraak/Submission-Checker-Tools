<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Eligibility Checker</title>
  <link rel="stylesheet" href="../styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
  <h1>Eligibility Checker</h1>
  <!-- Explanation Box -->
  <div id="explanation" style="border:1px solid #ccc; border-radius:6px; padding:16px; background:#f8f8fa; margin-bottom:20px;">
    <strong>How it works:</strong>
    <ul style="margin: 8px 0 0 22px;">
      <li>Upload your <b>XML file</b> containing claim results.</li>
      <li>Select whether you want to compare with the standard <b>Openjet XLSX</b> or a different <b>Report XLSX</b> by using the radio buttons.</li>
      <li>Upload the relevant XLSX file depending on your selection.</li>
      <li>Click <b>Process</b> to validate the XML claims against the selected XLSX data.</li>
      <li>The results will show if any information mismatches or errors are found for each claim/encounter.</li>
    </ul>
    <p style="margin: 8px 0 0 0;">The tool checks IDs, clinician, provider license, payer plan, and more. Upload <b>insurance_licenses.json</b> in the same folder for license verification.</p>
  </div>
  <div>
    <label for="xmlFileInput">Upload XML Results:</label>
    <input type="file" id="xmlFileInput" accept=".xml"/>
  </div>
  <div>
    <label>
      <input type="radio" name="eligSource" value="openjet" checked>
      Compare with Openjet XLSX
    </label>
    <label>
      <input type="radio" name="eligSource" value="report">
      Compare with Report XLSX
    </label>
  </div>
  <div id="openjetXLSXInputGroup">
    <label for="eligibilityFileInput">Upload Openjet XLSX:</label>
    <input type="file" id="eligibilityFileInput" accept=".xlsx"/>
  </div>
  <div id="reportXLSXInputGroup" style="display:none;">
    <label for="reportFileInput">Upload Report XLSX:</label>
    <input type="file" id="reportFileInput" accept=".xlsx"/>
  </div>
  <div>
    <button id="processBtn" disabled>Process</button>
  </div>
  <div id="uploadStatus" style="margin-top:12px; color:#0074D9;"></div>
  <div id="results" style="margin-top:20px;"></div>
  <script src="checker_elig.js"></script>
</body>
</html>
