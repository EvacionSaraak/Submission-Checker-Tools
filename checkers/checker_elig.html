<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Eligibility Checker</title>
  <link rel="stylesheet" href="tables.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
  <h1>Eligibility Checker</h1>
  <!-- Explanation Box -->
  <div id="explanation" style="border:1px solid #ccc; border-radius:6px; padding:16px; background:#f8f8fa; margin-bottom:20px;">
    <strong>How it works:</strong>
    <ul style="margin: 8px 0 0 22px;">
      <li>Select the report input format: <b>XML Report</b> or <b>XLSX Report</b> using the radio buttons below.</li>
      <li>Upload your <b>XML</b> or <b>XLSX</b> report file, depending on the selected mode. Then upload the <b>Eligibility XLSX</b> for reference.</li>
      <li>Click <b>Process</b> to validate the report claims/rows against the eligibility data.</li>
      <li>The results will show if any information mismatches or errors are found for each claim/encounter.</li>
    </ul>
    <p style="margin: 8px 0 0 0;">The tool checks IDs, clinician, provider license, payer plan, and more. Upload <b>insurance_licenses.json</b> in the same folder for license verification if required.</p>
  </div>

  <div>
    <label>
      <input type="radio" name="reportSource" value="xml" checked>
      Upload XML Report
    </label>
    <label>
      <input type="radio" name="reportSource" value="xls">
      Upload ClinicPro/InstaHMS Report
    </label>
  </div>
  <br>
  <div id="xmlReportInputGroup">
    <label for="xmlFileInput">Upload XML Report:</label>
    <input type="file" id="xmlFileInput" accept=".xml"/>
  </div>
  <div id="reportInputGroup" style="display:none;">
    <label for="reportInputGroup">Upload ClinicPro/InstaHMS Report:</label>
    <input type="file" id="reportFileInput" multiple accept=".xls,.xlsx,.csv" />
  </div>
  <div id="eligibilityInputGroup" style="margin-top:10px;">
    <label for="eligibilityFileInput">Upload Eligibility XLSX:</label>
    <input type="file" id="eligibilityFileInput" accept=".xlsx"/>
  </div>
  <div>
    <button id="processBtn" disabled>Process</button>
    <button id="exportInvalidBtn" disabled>Export Invalid Rows</button>
  </div>
  <div id="uploadStatus" style="margin-top:12px; color:#0074D9;"></div>
  <div id="results" style="margin-top:20px;"></div>
  <script src="checker_elig.js"></script>
  <script src="table_clipboard.js"></script>
</body>
</html>
